# TinyUnit++

[Документация на английском](README.md)

TinyUnit++ - это минималистичная система unit тестирования для C++. Особенности и функции:
* Исходный код представлен двумя файлами.
* Виды assert'ов:
    * Проверка на равенство или неравенство двух переменных.
    * Проверка булевых переменных и выражений.
    * Проверка на равенство двух значений с плавающей точкой (с некоторым допуском).
* Возможность добавить произвольное сообщение к любым assert'ам.
* Возможность вывести любое сообщение.
* Представляет из себя библиотеку, что позволяет встраивать систему куда угодно.
* Режим пропуска ошибочных assert'ов.
* Режим запуска указанных через командную строку тестов.
* Несколько вариантов тихого режима (без вывода в консоль результатов, но поднятия %ERRORLEVEL%
    в случае неудачного прохождения тестов).
* Система не имеет зависимостей, кроме стандартной библиотеки C++.

## Мотивация
Система изначально создавалась для личных целей, как библиотека, которую можно встроить в разные
проекты целиком, дабы не иметь лишних зависимостей. Как плата за такую возможность - отсутствие
возможностей, которые имеют другие системы unit тестирования, такие как: развитая система
assert'ов, архитектурная поддержка фикстур и mock, иерархические тесты, группировка тестов и
другие. Как следствие, если Вам нужно что-то из вышеописанного, данная система Вам не подойдёт.

## Простой пример

TODO:

## Описание макросов

TODO:
### TUPP_ASSERT
### TUPP_N_ASSERT
### TUPP_ASSERT_TRUE
### TUPP_ASSERT_FALSE
### TUPP_MESSAGE
### TUPP_ASSERT_F
### TUPP_ADD_TEST

## Режимы и возможности

### Режим пропуска ашибочных assert'ов

При активации этого режима (см. Описание аргументов командной строки ниже), если в тесте несколько
assert'ов, один из которых вызывает ошибку, выполнение теста продолжится.

Пример:
```cpp
void example_test()
{
    TUPP_ASSERT_TRUE(false);

    TUPP_MESSAGE("Выполнение продолжено");
}
```

В данном примере `TUPP_ASSERT_TRUE(false)` вызывает ошибку. Если режим пропуска ошибочных ассертов
не активирован, то выполнение теста прекратится на этом макросе. Если же режим активен - выполнение
продолжится и в данном примере будет выдано сообщение "Выполнение продолжено".

### Тихий режим.

TODO:

## Описание аргументов командной строки

* **--continue_after_assert (-a)** - Активирует режим пропуска ашибочных assert'ов.
* **--help (-h)** - Вывод справки по аргументам командной строки.
* **--silent_level (-s) \[уровень\]** - Активация разных вариантов тихого режима.
* **--test (-t) \[имя теста\]** - Запуск теста с именем "имя теста". Этих ключей в командной строке
    может быть несколько (для каждого имени теста отдельный ключ, т.е.: `-t test_a test_b` -
    неправильно, `-t test_a -t test_b` - правильно). В таком случае запустятся все указанные тесты.
* **--version (-v)** - Вывод версии и копирайта тест системы и другой информации.

## Описание возвращаемых кодов ошибок

* 0 - Тесты отработали успешно, каких-либо ошибок нет.
* 1 - По крайней мере один тест провален.
* 100 - Некорректная командная строка. В консоль будут выведены подробности по ошибке.
* 101 - неизвестный ключ командной строки. В консоль будут выведены подробности по ошибке.
* 102 - Неверный контекст применения ключа. В консоль будут выведены подробности по ошибке.
* 200 - Неизвестная ошибка. При корректной работе такой ошибки появиться не должно.

## Возможности, которые планируется реализовать

* Цветной вывод и соответствующая настройка командной строки.
* Обработка C++ и системных исключений.
* Вывод списка добавленных тестов по аргументу командной строки.
